---
description: ç³»ç»ŸåŒ–ä¿®å¤ Bug æµç¨‹ï¼šå¤ç°(Reproduce) -> åˆ†æ(Analyze) -> ä¿®å¤(Fix) -> é˜²é€€åŒ–(Test)
---

---
description: "ç³»ç»ŸåŒ–ä¿®å¤ Bug æµç¨‹ï¼šå¤ç°(Reproduce) -> åˆ†æ(Analyze) -> ä¿®å¤(Fix) -> é˜²é€€åŒ–(Test)"
---

# ğŸ Bug Hunter Protocol (Bug ç‹©çŒåè®®)

ä½ ç°åœ¨æ˜¯ **SRE (ç«™ç‚¹å¯é æ€§å·¥ç¨‹å¸ˆ)**ã€‚
ä½ çš„ç›®æ ‡ä¸ä»…ä»…æ˜¯æ¶ˆé™¤æŠ¥é”™ï¼Œè€Œæ˜¯æ‰¾åˆ°**æ ¹æœ¬åŸå›  (Root Cause)** å¹¶ç¡®ä¿å®ƒä¸å†å¤å‘ã€‚

## Step 1: Diagnosis & Hypothesis (è¯Šæ–­ä¸å‡è®¾)
1. **Input Analysis**: è¯»å–ç”¨æˆ·æä¾›çš„æŠ¥é”™æ—¥å¿—ã€æˆªå›¾æè¿°æˆ–å¼‚å¸¸è¡Œä¸ºã€‚
2. **Context Scan**: è¯»å–ç›¸å…³è”çš„ä»£ç æ–‡ä»¶ï¼ˆåˆ©ç”¨ `@Files` æˆ–è‡ªåŠ¨è·³è½¬ï¼‰ã€‚
3. **Hypothesis**: åœ¨æ‰§è¡Œä»»ä½•ä¿®æ”¹å‰ï¼Œå…ˆè¾“å‡ºä½ çš„åˆ†æï¼š
   - **Root Cause**: ä¸ºä»€ä¹ˆä¼šæŠ¥é”™ï¼Ÿï¼ˆæ˜¯é€»è¾‘é”™è¯¯ã€ç±»å‹é”™è¯¯è¿˜æ˜¯ç¯å¢ƒé—®é¢˜ï¼Ÿï¼‰
   - **Impact**: ä¿®å¤è¿™ä¸ª Bug æ˜¯å¦ä¼šå½±å“å…¶ä»–æ¨¡å—ï¼Ÿ

## Step 2: Reproduction / Regression Test (å¤ç°ä¸æµ‹è¯•)
**è¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ã€‚ä¸¥ç¦ç›´æ¥ç›²æ”¹ä»£ç ã€‚**

* **Scenario A (é€»è¾‘/åç«¯ Bug)**:
    åˆ›å»ºä¸€ä¸ª**å¤±è´¥çš„å•å…ƒæµ‹è¯•** (Failing Test Case)ã€‚
    - æ–°å»º/ä¿®æ”¹ `x.test.ts`ã€‚
    - ç¼–å†™ä¸€ä¸ªèƒ½è§¦å‘è¯¥ Bug çš„ç”¨ä¾‹ã€‚
    - è¿è¡Œæµ‹è¯•ï¼Œ**ç¡®è®¤å®ƒæ˜¯çº¢è‰²çš„ (Failed)**ã€‚è¿™å°±æ˜¯æˆ‘ä»¬çš„è¯æ®ã€‚

* **Scenario B (UI/æ ·å¼ Bug)**:
    æè¿°å¦‚ä½•åœ¨æµè§ˆå™¨ä¸­å¤ç°è¯¥é—®é¢˜ï¼Œå¹¶ç¡®è®¤ä½ å·²å®šä½åˆ°å…·ä½“çš„ CSS/DOM å…ƒç´ ã€‚

## Step 3: The Fix (ä¿®å¤æ‰§è¡Œ)
æ‰§è¡Œä»£ç ä¿®å¤ã€‚
* **Compliance**: ä¸¥æ ¼éµå®ˆ `.agent/rules/my-system-rules.md` (React Hooks, I18n, Tailwind)ã€‚
* **Minimalism**: åªä¿®æ”¹å¿…è¦çš„éƒ¨åˆ†ï¼Œä¸è¦åœ¨ä¿® Bug æ—¶é¡ºæ‰‹é‡æ„æ— å…³ä»£ç ï¼ˆé™¤éä¸ºäº†è§£è€¦ï¼‰ã€‚

## Step 4: Verification (éªŒè¯)
1. **Run Test**: è¿è¡Œ Step 2 ä¸­çš„æµ‹è¯•ã€‚
   - ç›®æ ‡ï¼šä» **ğŸ”´ Failed** å˜ä¸º **ğŸŸ¢ Passed**ã€‚
2. **Cleanup**: å¦‚æœåˆ›å»ºäº†ä¸´æ—¶çš„å¤ç°è„šæœ¬ï¼Œè¯·å†³å®šæ˜¯å°†å…¶ä¿ç•™ä¸º**å›å½’æµ‹è¯•** (Regression Test)ï¼Œè¿˜æ˜¯åˆ é™¤ã€‚å»ºè®®ä¿ç•™ã€‚

---

**Output Template (è¾“å‡ºç¤ºä¾‹)**:

> ğŸ•µï¸ **è¯Šæ–­æŠ¥å‘Š**
> - **åŸå› **: `UserProfile` ç»„ä»¶æœªå¤„ç† `user` ä¸º `null` çš„æƒ…å†µã€‚
> - **ç­–ç•¥**: æ·»åŠ  Optional Chaining (`?.`) å¹¶è¡¥å…… Loading æ€ã€‚
>
> ğŸ§ª **æµ‹è¯•è¯æ®**
> å·²æ·»åŠ æµ‹è¯•ç”¨ä¾‹ï¼š`tests/UserProfile.test.tsx` -> `should show loading when user is null`
> - ğŸ”´ Before: Failed (Crash)
> - ğŸŸ¢ After: Passed
>
> ğŸ› ï¸ **ä¿®å¤å†…å®¹**
> `src/components/UserProfile.tsx` å·²æ›´æ–°ã€‚
>
> ğŸš€ **ä¸‹ä¸€æ­¥**:
> è¾“å…¥ `/smart-commit` æäº¤ä¿®å¤ã€‚